name: Check Folders and Files
on:
  pull_request:
    branches: [ "development" ]
    
jobs:
  check-folders-and-files:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Fetch
      run: git fetch origin ${{ github.base_ref }}:${{ github.base_ref }}

    - name: Git Diff
      run: git diff --name-only ${{ github.base_ref }}..${{ github.head_ref }} -- "dbt_project.yml" | grep -E '^R[0-9]+Â´|^D'
