
name: Check Folders and Files
on:
  pull_request_target:
    types: [opened, reopened]

jobs:
  check-folders-and-files:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Check for required folders and files
      run: |
        # Specify the development branch name (e.g., 'main' or 'develop')
        development_branch=development

        # Check if the folder name has been changed or deleted in the created branch
        if git diff --name-only --diff-filter=RD $development_branch...${{ github.ref }} | grep -q '^macros$'; then
          echo "Folder name 'macros' has been changed or deleted in the created branch."
          exit 1  # Fail the workflow
        fi
