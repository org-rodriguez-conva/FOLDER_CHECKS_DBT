name: Check Folders and Files
on:
  pull_request:
    branches: [ "development" ]
    
jobs:
  check-folders-and-files:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Fetch
      run: git fetch origin ${{ github.base_ref }}:${{ github.base_ref }}

    - name: Git Diff
      run: |
          specific_file="dbt_project.yml"
          echo "1"
          # Extract the file name from git diff --name-status
          diff_file=$(git diff --name-status ${{ github.base_ref }} | awk '{print $2}')
          echo "2"
          echo "diff file: $diff_file"
          # Compare the extracted file name to the specific file
          if [ "$diff_file" = "$specific_file" ]; then
            echo "The extracted file '$diff_file' matches the specific file '$specific_file'."
          else
            echo "The extracted file '$diff_file' does not match the specific file '$specific_file'."
          fi
        
